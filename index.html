<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>rssCloud Server by andrewshell</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/github-light.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>rssCloud Server</h1>
        <p>rssCloud server implementation in Node.js</p>

        <p class="view"><a href="https://github.com/andrewshell/rsscloud-server">View the Project on GitHub <small>andrewshell/rsscloud-server</small></a></p>


        <ul>
          <li><a href="https://github.com/andrewshell/rsscloud-server/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/andrewshell/rsscloud-server/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/andrewshell/rsscloud-server">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <h2>
<a id="rsscloud-server" class="anchor" href="#rsscloud-server" aria-hidden="true"><span class="octicon octicon-link"></span></a>rssCloud Server</h2>

<p>rssCloud Server implementation in Node.js</p>

<h2>
<a id="how-to-install" class="anchor" href="#how-to-install" aria-hidden="true"><span class="octicon octicon-link"></span></a>How to install</h2>

<div class="highlight highlight-bash"><pre>git clone https://github.com/andrewshell/rsscloud-server.git
<span class="pl-c1">cd</span> rsscloud-server
npm install
npm start</pre></div>

<h2>
<a id="how-to-use" class="anchor" href="#how-to-use" aria-hidden="true"><span class="octicon octicon-link"></span></a>How to use</h2>

<h3>
<a id="post-pleasenotify" class="anchor" href="#post-pleasenotify" aria-hidden="true"><span class="octicon octicon-link"></span></a>POST /pleaseNotify</h3>

<p>Posting to /pleaseNotify is your way of alerting the server that you want to receive notificaions when one or more resources are updated. </p>

<p>The POST parameters are:</p>

<ol>
<li>domain -- optional, if omitted the requesting IP address is used</li>
<li>port</li>
<li>path</li>
<li>registerProcedure -- required, but isn't used in this server as it only applies to xml-rpc or soap</li>
<li>protocol -- the spec allows for http-post, xml-rpc or soap but this server only supports http-post</li>
<li>url1, url2, ..., urlN this is the resource you're requesting to be notified about.  In the case of an RSS feed you would specify the URL of the RSS feed.</li>
</ol>

<p>When you POST the server first checks if the urls you specifed are returning an <a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.2">HTTP 2xx status code</a> then it attempts to notify the subscriber of an update to make sure it works.  This is done in one of two ways.</p>

<ol>
<li>If you did not specify a domain parameter and we're using the requesting IP address we perform a POST request to the URL represented by <code>http://&lt;ip&gt;:&lt;port&gt;&lt;path&gt;</code> with a single parameter <code>url</code>. To accept the subscription that resource just needs to return an HTTP 2xx status code.</li>
<li>If you did specify a domain parameter then we perform a GET request to the URL represented by <code>http://&lt;domain&gt;:&lt;port&gt;&lt;path&gt;</code> with two query string parameters, url and challenge. To accept the subscription that resource needs to return an HTTP 2xx status code and have the challenge value as the response body.</li>
</ol>

<p>You will receive a response with two values:</p>

<ol>
<li>success -- true or false depending on whether or not the subscription suceeded</li>
<li>msg -- a string that explains either that you succeed or why it failed</li>
</ol>

<p>The default response type is text/xml but if you POST with an <a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.1">accept header</a> specifying <code>application/json</code> we will return a JSON formatted response.</p>

<p>Examples:</p>

<div class="highlight highlight-xml"><pre>&lt;?<span class="pl-ent">xml</span><span class="pl-e"> version</span>=<span class="pl-s"><span class="pl-pds">"</span>1.0<span class="pl-pds">"</span></span>?&gt;
&lt;<span class="pl-ent">notifyResult</span> <span class="pl-e">success</span>=<span class="pl-s"><span class="pl-pds">"</span>false<span class="pl-pds">"</span></span> <span class="pl-e">msg</span>=<span class="pl-s"><span class="pl-pds">"</span>The subscription was cancelled because the call failed when we tested the handler.<span class="pl-pds">"</span></span>/&gt;</pre></div>

<div class="highlight highlight-json"><pre>{<span class="pl-s"><span class="pl-pds">"</span>success<span class="pl-pds">"</span></span>:<span class="pl-c1">false</span>,<span class="pl-s"><span class="pl-pds">"</span>msg<span class="pl-pds">"</span></span>:<span class="pl-s"><span class="pl-pds">"</span>The subscription was cancelled because the call failed when we tested the handler.<span class="pl-pds">"</span></span>}</pre></div>

<h3>
<a id="post-ping" class="anchor" href="#post-ping" aria-hidden="true"><span class="octicon octicon-link"></span></a>POST /ping</h3>

<p>Posting to /ping is your way of alerting the server that a resource has been updated. </p>

<p>The POST parameters are:</p>

<ol>
<li>url</li>
</ol>

<p>When you POST the server first checks if the url has actually changed since the last time it checked.  If it has, it will go through it's list of subscribers and POST to the subscriber with the parameter <code>url</code>.</p>

<p>The default response type is text/xml but if you POST with an <a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.1">accept header</a> specifying <code>application/json</code> we will return a JSON formatted response.</p>

<p>Examples:</p>

<div class="highlight highlight-xml"><pre>&lt;?<span class="pl-ent">xml</span><span class="pl-e"> version</span>=<span class="pl-s"><span class="pl-pds">"</span>1.0<span class="pl-pds">"</span></span>?&gt;
&lt;<span class="pl-ent">notifyResult</span> <span class="pl-e">success</span>=<span class="pl-s"><span class="pl-pds">"</span>true<span class="pl-pds">"</span></span> <span class="pl-e">msg</span>=<span class="pl-s"><span class="pl-pds">"</span>Thanks for the ping.<span class="pl-pds">"</span></span>/&gt;</pre></div>

<div class="highlight highlight-json"><pre>{<span class="pl-s"><span class="pl-pds">"</span>success<span class="pl-pds">"</span></span>:<span class="pl-c1">true</span>,<span class="pl-s"><span class="pl-pds">"</span>msg<span class="pl-pds">"</span></span>:<span class="pl-s"><span class="pl-pds">"</span>Thanks for the ping.<span class="pl-pds">"</span></span>}</pre></div>

<h3>
<a id="get-pingform" class="anchor" href="#get-pingform" aria-hidden="true"><span class="octicon octicon-link"></span></a>GET /pingForm</h3>

<p>The path /pingForm is an HTML form intented to allow you to ping via a web browser.</p>

<h3>
<a id="get-viewlog" class="anchor" href="#get-viewlog" aria-hidden="true"><span class="octicon octicon-link"></span></a>GET /viewLog</h3>

<p>The path /viewLog is a log of recent events that have occured on the server. It's very useful if you're trying to debug your tools.</p>
      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/andrewshell">andrewshell</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
    
  </body>
</html>
